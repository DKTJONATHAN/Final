---
import { getCollection } from 'astro:content';
import Note from '@/components/note/Note.astro';

const allNotes = await getCollection('note');
const validNotes = allNotes.filter(note => 
  note.data.pubDate && !isNaN(new Date(note.data.pubDate).getTime())
);
---

{validNotes.map(note => (
  <Note note={note} />
))}